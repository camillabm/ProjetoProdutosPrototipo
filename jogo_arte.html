<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Jornada empreendedora: a biotecnologia para al√©m do laborat√≥rio</title>
    <style>
        body { 
            font-family: 'Courier New', monospace; 
            margin: 20px; 
            background-color: #f0f0f0;
            color: #333;
        }
        .status, .tabuleiro, .eventos, .descricao { 
            border: 3px solid #000; 
            padding: 15px; 
            margin-bottom: 20px; 
            background-color: #fff;
            box-shadow: 5px 5px 0px #888;
        }
        button { 
            margin: 8px; 
            padding: 10px 15px;
            background-color: #4CAF50;
            color: white;
            border: none;
            font-family: 'Courier New', monospace;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
        }
        button:hover {
            background-color: #45a049;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
            text-shadow: 2px 2px 0px #ccc;
        }
        .pixel-art {
            image-rendering: pixelated;
            image-rendering: -moz-crisp-edges;
            image-rendering: crisp-edges;
        }
        .character {
            width: 128px;
            height: 128px;
            margin: 10px auto;
            display: block;
        }
        .enemy {
            width: 128px;
            height: 128px;
            margin: 10px auto;
            display: block;
        }
        .progress-container {
            width: 100%;
            background-color: #ddd;
            margin: 20px 0;
        }
        .progress-bar {
            height: 30px;
            background-color: #4CAF50;
            text-align: center;
            line-height: 30px;
            color: white;
        }
        .stats {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
        }
        .stat {
            text-align: center;
            padding: 10px;
            background-color: #e8f4ea;
            border: 2px solid #2c3e50;
            border-radius: 5px;
        }
        .battle-container {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin: 20px 0;
        }
        .vs {
            font-size: 24px;
            margin: 0 20px;
        }
    </style>
</head>
<body>

<h1>Jornada empreendedora: a biotecnologia para al√©m do laborat√≥rio</h1>

<div id="status" class="status">
    <div class="stats">
        <div class="stat" id="vida-stat">Vida: 0</div>
        <div class="stat" id="dinheiro-stat">Dinheiro: R$0</div>
        <div class="stat" id="dano-stat">Dano: 0</div>
        <div class="stat" id="posicao-stat">Casa: 0</div>
    </div>
    <div class="progress-container">
        <div class="progress-bar" id="progresso" style="width: 0%">0%</div>
    </div>
</div>
<div id="descricao" class="descricao"></div>
<div id="jogo" class="tabuleiro"></div>

<script>
let statusJogador = {
    vida: 0,
    dinheiro: 0,
    dano: 0,
    posicao: 1,
    empresa: {}
};

const combinacoesValidas = {
    MEI: { naturezas: ["EI"], cnaes: ["Com√©rcio", "Servi√ßos"], regimes: ["Simples Nacional"] },
    ME: { naturezas: ["EI", "SLU", "LTDA"], cnaes: ["Com√©rcio", "Servi√ßos", "Ind√∫stria"], regimes: ["Simples Nacional", "Lucro Presumido", "Lucro Real"] },
    EPP: { naturezas: ["EI", "SLU", "LTDA"], cnaes: ["Com√©rcio", "Servi√ßos", "Ind√∫stria"], regimes: ["Simples Nacional", "Lucro Presumido", "Lucro Real"] }
};

const descricoes = {
    MEI: "MEI (Microempreendedor Individual): Pequenos neg√≥cios com menos burocracia e limite de faturamento.",
    ME: "ME (Microempresa): Faturamento maior que MEI, mais obriga√ß√µes, mas mais possibilidades de atua√ß√£o.",
    EPP: "EPP (Empresa de Pequeno Porte): Para neg√≥cios com faturamento ainda maior, com mais exig√™ncias legais.",
    EI: "EI (Empres√°rio Individual): O empres√°rio responde com o pr√≥prio patrim√¥nio.",
    SLU: "SLU (Sociedade Limitada Unipessoal): Um √∫nico dono, mas com prote√ß√£o patrimonial.",
    LTDA: "LTDA (Sociedade Limitada): Sociedade com dois ou mais s√≥cios, com responsabilidade limitada.",
    Com√©rcio: "Com√©rcio: Atividades de venda de produtos f√≠sicos ou online.",
    Servi√ßos: "Servi√ßos: Presta√ß√£o de servi√ßos como consultoria, sa√∫de, tecnologia, etc.",
    Ind√∫stria: "Ind√∫stria: Produ√ß√£o e transforma√ß√£o de bens, com maior carga regulat√≥ria.",
    "Simples Nacional": "Simples Nacional: Regime unificado e simplificado de tributos, com al√≠quotas reduzidas.",
    "Lucro Presumido": "Lucro Presumido: Tributa√ß√£o sobre uma margem de lucro pr√©-estimada pela Receita Federal.",
    "Lucro Real": "Lucro Real: Tributa√ß√£o sobre o lucro real apurado, com maior complexidade cont√°bil."
};

const explicacoesEtapas = {
    1: "üìÑ Elabora√ß√£o do Contrato Social: Documento que define regras, s√≥cios e capital da empresa.",
    2: "üìÑ Contrato Social (continua√ß√£o): Defini√ß√£o de cl√°usulas de prote√ß√£o aos s√≥cios.",
    3: "üè¢ Registro na Junta Comercial: Etapa de legaliza√ß√£o da empresa no √≥rg√£o estadual.",
    4: "üè¢ Junta Comercial (continua√ß√£o): Escolha entre registro digital ou presencial.",
    6: "üÜî Obten√ß√£o do CNPJ: Cadastro da sua empresa na Receita Federal.",
    7: "üÜî CNPJ (continua√ß√£o): Escolha sobre incluir atividades extras (CNAEs).",
    8: "üßæ Inscri√ß√£o Estadual: Obrigat√≥ria para quem vende produtos e paga ICMS.",
    9: "üßæ Inscri√ß√£o Estadual (continua√ß√£o): Possibilidade de pagar taxa extra para agilizar."
};

const perguntasPorCasa = {
    1: { pergunta: "Voc√™ prefere contratar um advogado especializado ou usar um modelo gratuito da internet?", op1: {texto:"üí∏ R$150: Advogado (+10 vida, +5 dano)", vida:10, dano:5, dinheiro:-150}, op2:{texto:"Gr√°tis: Modelo da internet (-10 vida futura)", vida:-10, dano:0, dinheiro:0} },
    2: { pergunta: "Incluir cl√°usulas de prote√ß√£o de s√≥cios?", op1:{texto:"üí∏ R$100: Sim (+5 vida, +5 dano)", vida:5, dano:5, dinheiro:-100}, op2:{texto:"Gr√°tis: N√£o (-10 vida futura)", vida:-10, dano:0, dinheiro:0} },
    3: { pergunta: "Contratar despachante para registro ou fazer sozinho?", op1:{texto:"üí∏ R$120: Despachante (+10 vida)", vida:10, dano:0, dinheiro:-120}, op2:{texto:"Gr√°tis: Sozinho (-5 vida)", vida:-5, dano:0, dinheiro:0} },
    4: { pergunta: "Registrar digital ou presencial?", op1:{texto:"Gr√°tis: Digital (+5 dano)", vida:0, dano:5, dinheiro:0}, op2:{texto:"Gr√°tis: Presencial (-5 vida)", vida:-5, dano:0, dinheiro:0} },
    6: { pergunta: "Contratar contador para CNPJ?", op1:{texto:"üí∏ R$100: Sim (+5 vida, +5 dano)", vida:5, dano:5, dinheiro:-100}, op2:{texto:"Gr√°tis: N√£o (-10 vida)", vida:-10, dano:0, dinheiro:0} },
    7: { pergunta: "Incluir mais atividades no CNAE pagando taxa extra?", op1:{texto:"üí∏ R$80: Sim (+5 dano)", vida:0, dano:5, dinheiro:-80}, op2:{texto:"Gr√°tis: N√£o (Sem efeito)", vida:0, dano:0, dinheiro:0} },
    8: { pergunta: "Pagar consultoria para Inscri√ß√£o Estadual?", op1:{texto:"üí∏ R$120: Sim (+10 vida)", vida:10, dano:0, dinheiro:-120}, op2:{texto:"Gr√°tis: N√£o (-10 vida)", vida:-10, dano:0, dinheiro:0} },
    9: { pergunta: "Antecipar processo pagando taxa urgente?", op1:{texto:"üí∏ R$80: Sim (+5 dano)", vida:0, dano:5, dinheiro:-80}, op2:{texto:"Gr√°tis: N√£o (Sem efeito)", vida:0, dano:0, dinheiro:0} }
};

function mostrarDescricao(texto) {
    document.getElementById("descricao").innerHTML = `<div style="background-color:#f9f9f9; padding:15px; border-left:4px solid #4CAF50;">${texto.replace(/\n\n/g, '<br><br>')}</div>`;
}

function mostrarStatus() {
    document.getElementById("vida-stat").innerHTML = `‚ù§Ô∏è Vida: ${statusJogador.vida}`;
    document.getElementById("dinheiro-stat").innerHTML = `üíµ Dinheiro: R$${statusJogador.dinheiro}`;
    document.getElementById("dano-stat").innerHTML = `‚öîÔ∏è Dano: ${statusJogador.dano}`;
    document.getElementById("posicao-stat").innerHTML = `‚úÖ Etapa: ${statusJogador.posicao}/10`;
    
    // Atualiza barra de progresso
    let progresso = (statusJogador.posicao / 10) * 100;
    document.getElementById("progresso").style.width = `${progresso}%`;
    document.getElementById("progresso").innerText = `${Math.round(progresso)}%`;
}

function iniciarEscolha() {
    let html = `
        <div style="text-align:center;">
            <img src="jogador.png" class="character pixel-art" alt="Personagem do Jogador">
            <h3>Escolha o Porte da Empresa:</h3>
            <button onclick="escolherPorte('MEI')" style="background-color:#3498db;">MEI</button>
            <button onclick="escolherPorte('ME')" style="background-color:#e74c3c;">ME</button>
            <button onclick="escolherPorte('EPP')" style="background-color:#9b59b6;">EPP</button>
        </div>
    `;

    let texto = "Portes de Empresa:\n\n";
    ["MEI", "ME", "EPP"].forEach(p => texto += descricoes[p] + "\n\n");
    mostrarDescricao(texto);

    document.getElementById("jogo").innerHTML = html;
}

function escolherPorte(porte) {
    statusJogador.empresa.porte = porte;

    let html = `
        <div style="text-align:center;">
            <img src="jogador.png" class="character pixel-art" alt="Personagem do Jogador">
            <h3>Escolha a Natureza Jur√≠dica:</h3>
    `;
    
    combinacoesValidas[porte].naturezas.forEach(natureza => {
        html += `<button onclick="escolherNatureza('${natureza}')" style="background-color:#${porte === 'MEI' ? '3498db' : porte === 'ME' ? 'e74c3c' : '9b59b6'};">${natureza}</button>`;
    });

    html += `</div>`;

    let texto = "Naturezas Jur√≠dicas:\n\n";
    combinacoesValidas[porte].naturezas.forEach(n => texto += descricoes[n] + "\n\n");
    mostrarDescricao(texto);

    document.getElementById("jogo").innerHTML = html;
}

function escolherNatureza(natureza) {
    statusJogador.empresa.natureza = natureza;

    let html = `
        <div style="text-align:center;">
            <img src="jogador.png" class="character pixel-art" alt="Personagem do Jogador">
            <h3>Escolha o CNAE:</h3>
    `;
    
    combinacoesValidas[statusJogador.empresa.porte].cnaes.forEach(cnae => {
        html += `<button onclick="escolherCNAE('${cnae}')" style="background-color:#${statusJogador.empresa.porte === 'MEI' ? '3498db' : statusJogador.empresa.porte === 'ME' ? 'e74c3c' : '9b59b6'};">${cnae}</button>`;
    });

    html += `</div>`;

    let texto = "CNAEs dispon√≠veis:\n\n";
    combinacoesValidas[statusJogador.empresa.porte].cnaes.forEach(c => texto += descricoes[c] + "\n\n");
    mostrarDescricao(texto);

    document.getElementById("jogo").innerHTML = html;
}

function escolherCNAE(cnae) {
    statusJogador.empresa.cnae = cnae;

    let html = `
        <div style="text-align:center;">
            <img src="jogador.png" class="character pixel-art" alt="Personagem do Jogador">
            <h3>Escolha o Regime Tribut√°rio:</h3>
    `;
    
    combinacoesValidas[statusJogador.empresa.porte].regimes.forEach(regime => {
        html += `<button onclick="finalizarEscolha('${regime}')" style="background-color:#${statusJogador.empresa.porte === 'MEI' ? '3498db' : statusJogador.empresa.porte === 'ME' ? 'e74c3c' : '9b59b6'};">${regime}</button>`;
    });

    html += `</div>`;

    let texto = "Regimes Tribut√°rios:\n\n";
    combinacoesValidas[statusJogador.empresa.porte].regimes.forEach(r => texto += descricoes[r] + "\n\n");
    mostrarDescricao(texto);

    document.getElementById("jogo").innerHTML = html;
}

function finalizarEscolha(regime) {
    statusJogador.empresa.regime = regime;
    document.getElementById("descricao").innerText = "";  // Limpa as descri√ß√µes depois da escolha do regime
    inicializarStatus();
    mostrarStatus();
    avancarCasa();
}

function inicializarStatus() {
    let vida = 100, dinheiro = 500, dano = 10;
    if (statusJogador.empresa.porte === "MEI") { vida = 80; dinheiro = 600; dano = 8; }
    if (statusJogador.empresa.porte === "EPP") { vida = 120; dinheiro = 400; dano = 12; }

    if (statusJogador.empresa.natureza === "EI") { dinheiro += 50; dano += 2; }
    if (statusJogador.empresa.natureza === "SLU") { vida += 10; dano += 3; }
    if (statusJogador.empresa.natureza === "LTDA") { vida += 15; dinheiro -= 50; dano += 5; }

    if (statusJogador.empresa.cnae === "Com√©rcio") { dano += 5; }
    if (statusJogador.empresa.cnae === "Servi√ßos") { vida += 10; }
    if (statusJogador.empresa.cnae === "Ind√∫stria") { vida += 5; dano += 5; }

    if (statusJogador.empresa.regime === "Simples Nacional") { vida += 10; dinheiro += 10; }
    if (statusJogador.empresa.regime === "Lucro Presumido") { dano += 10; }
    if (statusJogador.empresa.regime === "Lucro Real") { dinheiro += 20; }

    statusJogador.vida = vida;
    statusJogador.dinheiro = dinheiro;
    statusJogador.dano = dano;
}

function avancarCasa() {
    if (statusJogador.dinheiro < 0) {
        iniciarCombateSerasa();
        return;
    }

    if (statusJogador.posicao > 10) {
        document.getElementById("jogo").innerHTML = `
            <div style="text-align:center;">
                <img src="jogador.png" class="character pixel-art" alt="Personagem do Jogador">
                <h3 style="color:#27ae60;">Parab√©ns! Sua empresa foi aberta com sucesso!</h3>
                <p>Voc√™ completou todas as etapas da abertura de empresa!</p>
                <button onclick="location.reload()" style="background-color:#27ae60;">Jogar Novamente</button>
            </div>
        `;
        mostrarDescricao("Voc√™ superou todos os desafios burocr√°ticos e agora sua empresa est√° pronta para crescer!");
        return;
    }

    mostrarStatus();

    if (statusJogador.posicao === 5 || statusJogador.posicao === 10) {
        iniciarCombate(statusJogador.posicao);
    } else if (perguntasPorCasa[statusJogador.posicao]) {
        mostrarPergunta(statusJogador.posicao);
    } else {
        statusJogador.posicao++;
        avancarCasa();
    }
}

function mostrarPergunta(casa) {
    let p = perguntasPorCasa[casa];
    let explicacao = explicacoesEtapas[casa] || "";
    
    document.getElementById("jogo").innerHTML = `
        <div style="text-align:center;">
            <img src="jogador.png" class="character pixel-art" alt="Personagem do Jogador">
            <h3>${p.pergunta}</h3>
            <div style="background-color:#f9f9f9; padding:10px; margin:10px 0; border-left:4px solid #3498db;">
                ${explicacao}
            </div>
            <button onclick="responder(${p.op1.vida}, ${p.op1.dano}, ${p.op1.dinheiro})" style="background-color:#${p.op1.dinheiro < 0 ? 'e74c3c' : '2ecc71'};">${p.op1.texto}</button>
            <button onclick="responder(${p.op2.vida}, ${p.op2.dano}, ${p.op2.dinheiro})" style="background-color:#${p.op2.dinheiro < 0 ? 'e74c3c' : p.op2.vida < 0 ? 'f39c12' : '3498db'};">${p.op2.texto}</button>
        </div>
    `;
}

function responder(vidaGanho, danoGanho, dinheiroGanho) {
    statusJogador.vida += vidaGanho;
    statusJogador.dano += danoGanho;
    statusJogador.dinheiro += dinheiroGanho;
    statusJogador.posicao++;
    mostrarStatus();
    avancarCasa();
}

function iniciarCombate(casa) {
    let inimigo = casa === 5 ? { 
        vida: 50, 
        nome: "Le√£o da Receita Federal", 
        imagem: "inimigo1.png" 
    } : { 
        vida: 100, 
        nome: "Fiscaliza√ß√£o Municipal", 
        imagem: "inimigo2.png" 
    };
    
    statusJogador.inimigoAtual = inimigo;
    
    document.getElementById("jogo").innerHTML = `
        <div style="text-align:center;">
            <div class="battle-container">
                <div>
                    <img src="jogador.png" class="character pixel-art" alt="Personagem do Jogador">
                    <div>Voc√™</div>
                </div>
                <div class="vs">VS</div>
                <div>
                    <img src="${inimigo.imagem}" class="enemy pixel-art" alt="${inimigo.nome}">
                    <div>${inimigo.nome}</div>
                </div>
            </div>
            <h3>Combate: ${inimigo.nome} - Vida: ${inimigo.vida}</h3>
            <button onclick="atacar()" style="background-color:#e74c3c;">Atacar (Dano: ${statusJogador.dano})</button>
            <button onclick="defender()" style="background-color:#3498db;">Defender (-5 de dano)</button>
        </div>
    `;
}

function atacar() {
    let inimigo = statusJogador.inimigoAtual;
    inimigo.vida -= statusJogador.dano;
    
    if (inimigo.vida <= 0) {
        document.getElementById("jogo").innerHTML = `
            <div style="text-align:center;">
                <img src="jogador.png" class="character pixel-art" alt="Personagem do Jogador">
                <h3 style="color:#27ae60;">Voc√™ venceu o ${inimigo.nome}!</h3>
                <p>${inimigo.nome} foi derrotado e voc√™ pode continuar sua jornada!</p>
                <button onclick="continuar()" style="background-color:#27ae60;">Avan√ßar</button>
            </div>
        `;
    } else {
        inimigoAtaca();
    }
}

function defender() {
    statusJogador.vida -= 5;
    inimigoAtaca();
}

function inimigoAtaca() {
    let inimigo = statusJogador.inimigoAtual;
    let danoInimigo = Math.random() < 0.5 ? 10 : 5;
    statusJogador.vida -= danoInimigo;
    mostrarStatus();
    
    document.getElementById("jogo").innerHTML = `
        <div style="text-align:center;">
            <div class="battle-container">
                <div>
                    <img src="jogador.png" class="character pixel-art" alt="Personagem do Jogador">
                    <div>Voc√™</div>
                </div>
                <div class="vs">VS</div>
                <div>
                    <img src="${inimigo.imagem}" class="enemy pixel-art" alt="${inimigo.nome}">
                    <div>${inimigo.nome}</div>
                </div>
            </div>
            <h3>${inimigo.nome} te atacou causando ${danoInimigo} de dano!</h3>
            <p>Vida do inimigo: ${inimigo.vida}</p>
            <button onclick="atacar()" style="background-color:#e74c3c;">Atacar (Dano: ${statusJogador.dano})</button>
            <button onclick="defender()" style="background-color:#3498db;">Defender (-5 de dano)</button>
        </div>
    `;
}

function continuar() {
    statusJogador.posicao++;
    avancarCasa();
}

function iniciarCombateSerasa() {
    statusJogador.inimigoAtual = { 
        vida: 50, 
        nome: "SERASA", 
        imagem: "serasa.png" 
    };
    
    document.getElementById("jogo").innerHTML = `
        <div style="text-align:center;">
            <div class="battle-container">
                <div>
                    <img src="jogador.png" class="character pixel-art" alt="Personagem do Jogador">
                    <div>Voc√™</div>
                </div>
                <div class="vs">VS</div>
                <div>
                    <img src="serasa.png" class="enemy pixel-art" alt="SERASA">
                    <div>${statusJogador.inimigoAtual.nome}</div>
                </div>
            </div>
            <h3 style="color:#e74c3c;">Voc√™ entrou em d√≠vida! O ${statusJogador.inimigoAtual.nome} apareceu!</h3>
            <p>Se vencer, voc√™ ganha R$300. Se perder... fal√™ncia!</p>
            <button onclick="atacarSerasa()" style="background-color:#e74c3c;">Atacar (Dano: ${statusJogador.dano})</button>
            <button onclick="defenderSerasa()" style="background-color:#3498db;">Defender (-5 de dano)</button>
        </div>
    `;
}

function atacarSerasa() {
    let inimigo = statusJogador.inimigoAtual;
    inimigo.vida -= statusJogador.dano;

    if (inimigo.vida <= 0) {
        statusJogador.dinheiro += 300;
        document.getElementById("jogo").innerHTML = `
            <div style="text-align:center;">
                <img src="jogador.png" class="character pixel-art" alt="Personagem do Jogador">
                <h3 style="color:#27ae60;">Voc√™ venceu o ${inimigo.nome} e recebeu R$300!</h3>
                <p>Sua situa√ß√£o financeira foi regularizada e voc√™ pode continuar!</p>
                <button onclick="continuar()" style="background-color:#27ae60;">Continuar o jogo</button>
            </div>
        `;
    } else {
        inimigoAtacaSerasa();
    }
}

function defenderSerasa() {
    statusJogador.vida -= 5;
    inimigoAtacaSerasa();
}

function inimigoAtacaSerasa() {
    let danoInimigo = Math.random() < 0.5 ? 10 : 5;
    statusJogador.vida -= danoInimigo;

    if (statusJogador.vida <= 0) {
        document.getElementById("jogo").innerHTML = `
            <div style="text-align:center;">
                <img src="serasa.png" class="enemy pixel-art" alt="SERASA">
                <h3 style="color:#e74c3c;">Voc√™ foi derrotado pelo SERASA...</h3>
                <h4>Fim de jogo.</h4>
                <p>Sua empresa n√£o resistiu √†s d√≠vidas e teve que fechar.</p>
                <button onclick="location.reload()" style="background-color:#3498db;">Tentar Novamente</button>
            </div>
        `;
    } else {
        mostrarStatus();
        document.getElementById("jogo").innerHTML = `
            <div style="text-align:center;">
                <div class="battle-container">
                    <div>
                        <img src="jogador.png" class="character pixel-art" alt="Personagem do Jogador">
                        <div>Voc√™</div>
                    </div>
                    <div class="vs">VS</div>
                    <div>
                        <img src="serasa.png" class="enemy pixel-art" alt="SERASA">
                        <div>${statusJogador.inimigoAtual.nome}</div>
                    </div>
                </div>
                <h3>${statusJogador.inimigoAtual.nome} te atacou causando ${danoInimigo} de dano!</h3>
                <p>Vida do inimigo: ${statusJogador.inimigoAtual.vida}</p>
                <button onclick="atacarSerasa()" style="background-color:#e74c3c;">Atacar (Dano: ${statusJogador.dano})</button>
                <button onclick="defenderSerasa()" style="background-color:#3498db;">Defender (-5 de dano)</button>
            </div>
        `;
    }
}

iniciarEscolha();
</script>

</body>
</html>